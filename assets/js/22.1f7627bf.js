(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{332:function(e,t,n){"use strict";n.r(t);var r=n(13),o=Object(r.a)({},(function(){var e=this._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[e("h1",{attrs:{id:"nginx配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置"}},[this._v("#")]),this._v(" Nginx配置")]),this._v(" "),e("ul",[e("li",[this._v("配置到站点里面")])]),this._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("server\n  {\n      listen 80;\n      server_name web.hanmingda.top;\n\n      index index.html index.htm index.php;\n      root  /www/wwwroot/web.hanmingda.top;\n      #error_page   404   /404.html;\n\n      location /api {\n        proxy_pass http://127.0.0.1:8899;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_connect_timeout 5;\n      }\n  }\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("server {\n    listen 80;\n    server_name localhost 127.0.0.1;\n    location / {\n      # 允许跨域请求的“域”\n      add_header 'Access-Control-Allow-Origin' $http_origin;\n      # 允许客户端提交Cookie\n      add_header 'Access-Control-Allow-Credentials' 'true';\n      # 允许客户端的请求方法\n      add_header 'Access-Control-Allow-Methods' 'GET, POST, OPTIONS, DELETE, PUT';\n      # 允许客户端提交的的请求头\n      add_header 'Access-Control-Allow-Headers' 'Origin, x-requested-with, Content-Type, Accept, Authorization';\n      # 允许客户端访问的响应头\n      add_header 'Access-Control-Expose-Headers' 'Cache-Control, Content-Language, Content-Type, Expires, Last-Modified, Pragma';\n      # 处理预检请求\n      if ($request_method = 'OPTIONS') {\n        # 预检请求缓存时间\n        add_header 'Access-Control-Max-Age' 1728000;\n        add_header 'Content-Type' 'text/plain; charset=utf-8';\n        add_header 'Content-Length' 0;\n        return 204;\n      }\n      \n      # SpringBoot 应用访问路径\n      proxy_pass http://127.0.0.1:8080;\n      \n      proxy_set_header Host $host;\n      proxy_set_header X-Real-IP $remote_addr;\n      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n      proxy_set_header X-Forwarded-Proto $scheme;\n      \n      proxy_connect_timeout 600;\n      proxy_read_timeout 600;\n    }\n}\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);